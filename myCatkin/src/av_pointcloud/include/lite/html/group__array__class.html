<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<title>Lite: Array Class</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="lite.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.0 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Array Class<br/>
<small>
[<a class="el" href="group__array.html">lite array - A C++ Multidimensional Array Library</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlite_1_1array.html">lite::array&lt; signature_, traits_type_, rep_ &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This class represents a general sinlge/multidimensional <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">array</a> with constant/variable size dimensions.  <a href="classlite_1_1array.html#_details">More...</a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>You can use the <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a> class to represent a general sinlge/multidimensional array with constant/variable size dimensions. The array elements could be of any type that has an appropriate default constructor and an assignment operator.</p>
<p>The <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a> class provides several specializations. The following pseudo definition explains the (almost) common interface of all the specializations. There are other features specific to some of the specializations that are not included below but are explained in <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a>.</p>
<div class="fragment"><pre class="fragment"><span class="keyword">template</span>&lt;
    <span class="keyword">typename</span> signature_, 
    <span class="keyword">typename</span> traits_type_ = default_array_traits, 
    <span class="keyword">typename</span> rep_ = <span class="keyword">typename</span> traits_type_::template representation_type&lt;signature_&gt;::type&gt;
<span class="keyword">class </span>array&lt;signature_, traits_type_, rep_&gt;
{
<span class="keyword">public</span>:
    <span class="keyword">typedef</span> signature_ signature;
    <span class="keyword">typedef</span> traits_type_ traits_type; 
    <span class="keyword">typedef</span> ??? value_type;
    <span class="keyword">typedef</span> ??? iterator;
    <span class="keyword">typedef</span> ??? size_type;
    <span class="keyword">typedef</span> ??? const_iterator;
    <span class="keyword">typedef</span> ??? reference;
    <span class="keyword">typedef</span> ??? const_reference;

    <span class="keyword">typedef</span> ??? temporary_array; 
    <span class="keyword">typedef</span> ??? fwd_temporary_array; 
    <span class="keyword">typedef</span> ??? rev_temporary_array;

    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> dimensions = ???; 

    array();

    array(<span class="keyword">const</span> array&amp; other);

    <span class="comment">// constructs an array by copying from other</span>
    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> other_rep_&gt;
    array(<span class="keyword">const</span> array&lt;signature_, traits_type_, other_rep_&gt;&amp; other);

    <span class="comment">// constructs an array with the given dimension sizes</span>
    <span class="keyword">explicit</span> array(<span class="keywordtype">int</span> n0, ..., <span class="keywordtype">int</span> nN);

    <span class="comment">// constructs an array with the given size</span>
    <span class="keyword">explicit</span> array(<span class="keyword">const</span> size_type&amp; size);

    <span class="comment">// constructs an array using the provided values</span>
    array(<span class="keyword">const</span> value_type&amp; a0, ..., <span class="keyword">const</span> value_type&amp; aT);

    array&amp; operator=(<span class="keyword">const</span> array&amp; other);

    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> other_rep_&gt;
    array&amp; operator=(<span class="keyword">const</span> array&lt;signature_, traits_type_, other_rep_&gt;&amp; other);

    const_iterator begin() <span class="keyword">const</span>;

    iterator begin();

    size_type size() <span class="keyword">const</span>;

    const_reference operator()(<span class="keywordtype">int</span> i0, ..., <span class="keywordtype">int</span> iN) <span class="keyword">const</span>;

    reference operator()(<span class="keywordtype">int</span> i0, ..., <span class="keywordtype">int</span> iN);

    const_reference operator[](<span class="keywordtype">int</span> i0) <span class="keyword">const</span>;

    reference operator[](<span class="keywordtype">int</span> i0);

    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> transform_type_&gt;
    <span class="keyword">const</span> <span class="keyword">typename</span> transform_traits&lt;array, transform_type_&gt;::const_array
    operator[](<span class="keyword">const</span> transform_type_&amp; trans) <span class="keyword">const</span>;

    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> transform_type_&gt;
    <span class="keyword">const</span> <span class="keyword">typename</span> transform_traits&lt;array, transform_type_&gt;::array
    operator[](<span class="keyword">const</span> transform_type_&amp; trans);

    <span class="keywordtype">void</span> resize(<span class="keywordtype">int</span> n0, ..., <span class="keywordtype">int</span> nN);

    <span class="keywordtype">void</span> resize(<span class="keyword">const</span> size_type&amp; sz);

    <span class="keywordtype">void</span> release();
};    
</pre></div><h2><a class="anchor" id="array_decl">
Array Declaration, Construction and Size</a></h2>
<p>To declare an array simply provide the array signature as the template parameter of the <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a> class. Any dimension that is declared with size 1 will have a variable size. Other dimensions will have fixed sizes. The size of the dimensions that have a non-constant size can be specified as a constructor argument or later by calling the <a class="el" href="classlite_1_1array.html#a1bf880541296b7d2375fbb0273547f6f" title="Resizes the array dimensions to the specified sizes.">lite::array::resize()</a>. For example:</p>
<div class="fragment"><pre class="fragment">        array&lt;float[10][10]&gt; m1;
        array&lt;float[3]&gt; v;

        <span class="keywordtype">int</span> n;
        
        std::cin &gt;&gt; n;
        
        array&lt;float[10][1][1]&gt; m2(10, n, n); <span class="comment">// 10 by n by n array</span>
        array&lt;float[10][1][1]&gt; m3; 

        m3.resize(10, n, n);
</pre></div><p>The size information of an array type <code>A</code> is represented by an object of type <em>A::size_type</em>. This is a an object of template class <a class="el" href="classlite_1_1pack.html" title="This is a general tuple class that can pack together elements of different types...">lite::pack</a> and has an <code>int</code> element corresponding to each dimension of the array holding the size of that dimension. You can also use a size object to construct or resize and array. For example:</p>
<div class="fragment"><pre class="fragment">        <span class="keyword">typedef</span> array&lt;float[1][10]&gt; A;
        A::size_type sz(10, 10);

        A m1(sz), m2;

        std::cin &gt;&gt; sz;
        m2.resize(sz);
        std::cin &gt;&gt; m2;

        A::size_type sz2 = m2.size(); 

        <span class="keywordflow">if</span> (sz2 != m1.size()) { <span class="comment">// size objects can be compared</span>
            <span class="comment">// error</span>
        }

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; sz.i0; i++)
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; sz.i1; j++)
                m1(i,j)= i+j;

        assert(<span class="keyword">sizeof</span>(sz)==<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)); <span class="comment">// true because sz.i1 is a static const member and won&apos;t occupy </span>
                                         <span class="comment">// space in the object. However, sz.i1 is a non-static member of sz</span>
</pre></div><p>To get the current size of an array, you can call <a class="el" href="classlite_1_1array.html#a59ff65a488e4c6900d4359bcc7725fdf" title="Returns a size object containing the dimension sizes of the array.">lite::array::size()</a>.</p>
<p>Fixed size arrays can also be filled with some value at construction time: </p>
<div class="fragment"><pre class="fragment">        array&lt;float[20][5]&gt; m1 = 4.1; 
        <span class="comment">// is equivalent to</span>
        array&lt;float[20][5]&gt; m2; 
        m2 = 4.1;
</pre></div><p>You can also provide the initial value of elements of small 1-dimensional arrays (vectors) as a constructor parameter. For example:</p>
<div class="fragment"><pre class="fragment">        array&lt;float[2]&gt; v2(1.1, 2.2); 
        array&lt;float[3]&gt; v3(1.1, 2.2, 3.3); 
        <span class="comment">// is equivalent to</span>
        array&lt;float[2]&gt; u2; 
        u2[0] = 1.1; u2[1] = 2.2;
</pre></div><p>Dimensions that have a fixed size are declared as constant elements of the <a class="el" href="classlite_1_1pack.html" title="This is a general tuple class that can pack together elements of different types...">lite::pack</a> and won't occupy memory in the <code>size_type</code> (see <a class="el" href="classlite_1_1pack.html" title="This is a general tuple class that can pack together elements of different types...">lite::pack</a> for more information on constant element). Arrays with fixed size are allocated at the time of construction. Arrays with variable size are allocated once you construct or resize them with a non-zero size.</p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>When you resize an array, the old content of the array will be lost and the new array elements might be uninitialized.</dd></dl>
<h2><a class="anchor" id="array_access">
Accessing Array Elements</a></h2>
<p>You can access the element of an array using <a class="el" href="classlite_1_1array.html#a4ceab87682552ca9627bf4fd34bfe044" title="Returns a const reference to the element of the array at the specified position.">lite::array::operator()()</a>. For 1-dimensional arrays you can also use the <a class="el" href="classlite_1_1array.html#af7392500789e533c81210ef6b17c2ab1" title="Returns a reference to the element of the 1D array at the specified index.">lite::array::operator[](int)</a> as seen in the previous examples.</p>
<h2><a class="anchor" id="array_traits_brief">
Array Traits</a></h2>
<p>This parameter takes a traits class the is used to choose the proper representation type for an array based on its signature and possibly to specify other policies. You normally don't to specify this parameter and the default value of <a class="el" href="structlite_1_1default__array__traits.html" title="This is the default array traits type used by the class lite::array.See Array Traits...">lite::default_array_traits</a> should be fine. For more information see <a class="el" href="group__array__advanced.html#array_traits">Array Traits</a>.</p>
<h2><a class="anchor" id="array_reps_brief">
Array Representations</a></h2>
<p>The last template parameter of the class <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a> specifies the representation type of the array. Normally, you don't need to specify this parameter and the default value works fine. However, should you need to change the default array storage order or to use a non-default representation for another reason, you may need to specify a different value for this parameter.</p>
<p>Basically, there are two category of array representation types. <b>primary arrays</b> and <b>reference arrays</b>. Each category is explained bellow:</p>
<h3><a class="anchor" id="array_primary_cat">
Primary Arrays</a></h3>
<p>Whenever you declare an array by itself (as in all the previous examples), the array class chooses a primary representation. Primary arrays are standalone objects that (in most cases) own their storage. The storage might be allocated internally as part of the array object (see <a class="el" href="group__array__advanced.html#array_internal">Internal Representation</a>) if the array has only fixed size dimensions and is not too large. Or it might be allocated on the heap (see <a class="el" href="group__array__advanced.html#array_hybrid">Hybrid Representation</a>) if it has a non-constant size dimension or is too large.</p>
<h3><a class="anchor" id="array_reference_cat">
Reference Arrays</a></h3>
<p>Reference arrays are usually returned as a result of applying an operation or applying a transformation to another array. They are virtual arrays that don't own their storage and usually reference all or parts of another array or arrays. For example:</p>
<div class="fragment"><pre class="fragment">        array&lt;float[10][10]&gt; a, b;
        
        std::cout &lt;&lt; (5*a).size();
        std::cout &lt;&lt; (a+b)(5,5);
</pre></div><p>In the above example <code>(a+b)</code> returns a reference array that computes each of its elements <b>on-demand</b> by adding the corresponding element of <code>a</code> and <code>b</code>. Some reference arrays (like the previous example) are read-only. Other reference arrays like the following example allow modification of the original array through the reference array:</p>
<div class="fragment"><pre class="fragment">        array&lt;float[10][10]&gt; a, b;
        
        a[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(0)] += 3*b[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(1)];
</pre></div><p>The expression <code>a[row(0)]</code> returns a reference array to the first row of <code>a</code>. see <a class="el" href="group__array__advanced.html#array_reference">Reference Representation</a> for more information on the standard representation type for reference arrays. </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Nov 6 02:03:20 2009 for Lite by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.0 </small></address>
</body>
</html>
