<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<title>Lite: lite array - A C++ Multidimensional Array Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="lite.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.0 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lite array - A C++ Multidimensional Array Library</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__class.html">Array Class</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__operations.html">Array Operations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__transforms.html">Array Transformations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__advanced.html">Array Internals (Advanced)</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__tools.html">Tool Classes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__misc.html">Miscellaneous</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__exceptions.html">Exceptions</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__array__benchmark.html">Benchmarks</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is a header only library that provides support for fixed/variable size single and multidimensional arrays. It provides specialized functions for small and large vectors and matrices and general arrays through a unified interface and intuitive syntax.</p>
<h2><a class="anchor" id="array_rational">
Design Rationale</a></h2>
<p>The following are the design goals for the array library:</p>
<ul>
<li>The specializations for small/large vectors and matrices should provide all the necessary functionality for mathematical programming.</li>
<li>The syntax should be intuitive and should be what one would expect.</li>
<li>The library should add zero or minimal overhead and optimize for performance.</li>
<li>It should be general enough and fully extensible. It should provide different layers of abstraction and allow for future extensions. If it lacks a feature, it should provide the right framework necessary to implement that feature as a seamless user extension or as a future addition to the library.</li>
</ul>
<h2><a class="anchor" id="array_tutorial">
Tutorial</a></h2>
<p>An array of fixed size can be declared by providing the signature of the array as the template argument of the class <a class="el" href="classlite_1_1array.html" title="This class represents a general sinlge/multidimensional array with constant/variable...">lite::array</a>. For example:</p>
<div class="fragment"><pre class="fragment">    array&lt;float[10][10]&gt; a;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;10; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;10; j++)
            m(i, j) = i+j;

    std::cout &lt;&lt; m &lt;&lt; std::endl;
</pre></div><p>For arrays with non-constant dimension sizes, one can specify 1 as the size of the dimension with non-constant size. For example:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">int</span> n;
    std:::cin &gt;&gt; n;
    array&lt;float[1][4][4]&gt; a(n, 4, 4);
    std::cin &gt;&gt; a; <span class="comment">// read the array from std::cin</span>
</pre></div><p>Most of the mathematical operations that make sense for arrays are also defined. For example:</p>
<div class="fragment"><pre class="fragment">    array&lt;float[5][10][10]&gt; a, b, c; 
    
    <span class="comment">// ...</span>
    
    c += 1.5*a + 3*b + 1;
</pre></div><p>Matrix and vector operations are defined for 1 and 2 dimensional arrays. Specialized operations are also provided for arrays and vector of length 2 and 3 (i.e. 2d and 3d geometric operations).</p>
<div class="fragment"><pre class="fragment">    array&lt;float[3][3]&gt; m; 
    array&lt;float[3]&gt; v1, v2; 
    
    <span class="comment">// ...</span>

    v2 += m*v1 + v2+ 1.5;       <span class="comment">// matrix-vector multiplication</span>
    m = m*m;                    <span class="comment">// matrix-matrix multiplication</span>
    m = inverse(m);             <span class="comment">// matrix inverse</span>
    <span class="keywordtype">float</span> d = det(m);           <span class="comment">// matrix determinant</span>
    m = rotation(v2, 3.14);     <span class="comment">// rotation matrix of 180 degrees around v2</span>
    v1 = m*v1;                  <span class="comment">// rotate v1</span>
    v3 = v1%v2;                 <span class="comment">// compute the cross product of v1 and v2</span>
    <span class="keywordtype">float</span> inner = v1*v2;        <span class="comment">// inner product</span>
    <span class="comment">// etc ...</span>
</pre></div><p>A rich set of transformations are also provided along with an extensible framework to add new types of transformations. For example:</p>
<div class="fragment"><pre class="fragment">    array&lt;float[10][10][10]&gt; a; 
    array&lt;float[10][10]&gt; m1, m2, m3; 
    array&lt;float[5]&gt; v1; 
    
    <span class="comment">// ...</span>

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;10; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;10; j++)
            m3(i, j) = m1[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(i)]*m2[<a class="code" href="group__array__transforms.html#gadb85ceb967b099b563484f6a96ca911c" title="This transform, when applied to an array of dimension N (N must be at least 2), returns...">column</a>(j)];
    
    m2[transpose()] = m3;
    m1 = 0;
    m1[diagonal()] += 1;        <span class="comment">// add 1 to the diagonal of m1 </span>
    a[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(2)] += 4*a[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(3)]+1; <span class="comment">// add 4 times the row 3 plus 1 to row 2. Each row is actually a 10x10 array.</span>
    a[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(2)] += (4*a+1)[<a class="code" href="group__array__transforms.html#gac13d5a020f69071131362062cbb527cb" title="This transform, when applied to an array of dimension N, returns a reference array...">row</a>(3)]; <span class="comment">// this is as efficient as the previous line due to to lazy evaluation.</span>

    block&lt;5,0,0&gt; blk;           <span class="comment">// specifies a vector of size 5 along the first dimension </span>
                                <span class="comment">// while dropping the other two dimensions</span>
    a[blk(2,3,4)] += v1;        <span class="comment">// the block will start at index (2,3,4). </span>
                                <span class="comment">// The result of the left hand side is a reference vector of size 5.</span>
    <span class="keywordtype">int</span> k;
    std::cin &gt;&gt; k;
    block&lt;0,1,1&gt; blk(0,k,k);    <span class="comment">// specifies a k by k matrix on the 2nd and 3rd dimensions</span>
                                <span class="comment">// while dropping the first dimension</span>
    a[blk(2,2,2)][diagonal()] += 1; <span class="comment">// adds 1 to the diagonal of the k by k matrix at index (2,2,2) after </span>
                                    <span class="comment">// dropping the first dimension</span>
</pre></div><p>The library uses lazy evaluation where feasible. For example the expression 1.5*a+3*b+1 does not evaluate the result by itself. It, however, returns a reference array such that when it is evaluated at any point it will evaluate the result at that point on demand. The library is aware of the evaluation costs and will use a temporary array to make copies of its arguments when doing so will improve the performance. For example: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">int</span> n;
    std::cin &gt;&gt; n;
    array&lt;float[1][1]&gt; m1(n,n), m2(n,n), m3(n,n); 
    array&lt;float[1]&gt; v1(n), v2(n); 
    
    <span class="comment">// ...</span>

    m3 = m1*m2;                 <span class="comment">// m1 is used directly but m2 is copied to a local column-major matrix</span>
                                <span class="comment">// to utilize cache (m2 is row-major)</span>
    m3 = m1*m2[transpose()];    <span class="comment">// m1 is row major and m2 column major so they are used directly.</span>
    m3 = (2*m1+1)*m2;           <span class="comment">// (2*m1+1) is fully evaluated first.</span>
    m3 = (2*m1+1)*m2[<a class="code" href="group__array__transforms.html#gadb85ceb967b099b563484f6a96ca911c" title="This transform, when applied to an array of dimension N (N must be at least 2), returns...">column</a>(0)];<span class="comment">// (2*m1+1) is evaluated lazily on demand but m2[column(1)] </span>
                                <span class="comment">// is fully evaluated and cached because its elements are not adjacent </span>
                                <span class="comment">// in memory and may not utilize cache well.</span>
    v1 = (2*v21+1)*m2[<a class="code" href="group__array__transforms.html#gadb85ceb967b099b563484f6a96ca911c" title="This transform, when applied to an array of dimension N (N must be at least 2), returns...">column</a>(0)];<span class="comment">// no local copy is made. Both arguments of * are evaluated lazily on demand.</span>
</pre></div><p> It is also aware of the storage order of the element of the arrays involved in an expression. It tries to evaluate the expressions in the order that maximizes CPU cache utilization.</p>
<p>The library is heavily specialized and optimized to take advantage of fixed sizes and compile time information and adds zero or minimal overhead. For example an object of type array&lt;int[2]&gt; contains only a fixed size array of size 2. In other words, sizeof(array&lt;int[2]&gt;)==sizeof(int[2]). So, it is a light weight object that for example can be used to represent a coordinate in a 2D space. The library takes advantage of the fixed sizes also to unroll the loops whenever possible using meta-template technics. The library has been designed to aid the compiler in optimization as much as possible. The performance of the code produced by this library using a good optimizing compiler (e.g. MSVC++ 8) is the same as the performance of an optimized handwritten code using primitive arrays. See array_performance for more information.</p>
<h2><a class="anchor" id="array_inro">
Introduction</a></h2>
<p>A general multi-dimensional array can be represented by a multi-dimensional random access iterator pointing to the start of the array and a size tuple specifying how much the array extends along each dimension. The random access iterator should be capable of moving freely in every dimension.</p>
<p>In order to use the library effectively, it is helpful to have an understanding of the internal representation of arrays.</p>
<p>The rest of the introduction is organized as follows:</p>
<ul>
<li><a class="el" href="group__array__class.html">Array Class</a></li>
<li><a class="el" href="group__array__operations.html">Array Operations</a></li>
<li><a class="el" href="group__array__transforms.html">Array Transformations</a></li>
</ul>
<p>In order to use the library effectively, it is helpful to have an understanding of the internal representation of arrays. The following section provide a brief introduction to the internals of the library:</p>
<ul>
<li><a class="el" href="group__array__advanced.html">Array Internals (Advanced)</a></li>
</ul>
<p>In order to change the limits of the library (e.g. to increase the maximum number of dimensions supported, etc) and/or to regenerate the header file from the template file, you should read the following section:</p>
<ul>
<li><a class="el" href="group__array__misc.html">Miscellaneous</a></li>
</ul>
<p>To get more information on the performance of this library and various kinds of optimization that are incorporated see the following section:</p>
<ul>
<li>array_performance </li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Nov 6 02:03:20 2009 for Lite by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.0 </small></address>
</body>
</html>
